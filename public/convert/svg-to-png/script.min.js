!function t(e,n,i){function r(s,o){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require
if(!o&&l)return l(s,!0)
if(a)return a(s,!0)
var u=new Error("Cannot find module '"+s+"'")
throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}}
e[s][0].call(h.exports,function(t){var n=e[s][1][t]
return r(n?n:t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s])
return r}({1:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function a(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!a(t)||0>t||isNaN(t))throw TypeError("n must be a positive number")
return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,a,l,u
if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e
throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],o(n))return!1
if(r(n))switch(arguments.length){case 1:n.call(this)
break
case 2:n.call(this,arguments[1])
break
case 3:n.call(this,arguments[1],arguments[2])
break
default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(s(n))for(a=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,l=0;i>l;l++)u[l].apply(this,a)
return!0},i.prototype.addListener=function(t,e){var n
if(!r(e))throw TypeError("listener must be a function")
return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(n=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function")
var i=!1
return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,a,o
if(!r(e))throw TypeError("listener must be a function")
if(!this._events||!this._events[t])return this
if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e)
else if(s(n)){for(o=a;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){i=o
break}if(0>i)return this
1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n
if(!this._events)return this
if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this
if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e)
return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n)
else if(n)for(;n.length;)this.removeListener(t,n[n.length-1])
return delete this._events[t],this},i.prototype.listeners=function(t){var e
return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t]
if(r(e))return 1
if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,n){function i(){r("converter",function(t){a("converter",t,function(){i()})})}var r=t("../../components/drop-zone-svg"),a=t("../../components/convert-svg-to-png")
window.onload=function(){i()}},{"../../components/convert-svg-to-png":3,"../../components/drop-zone-svg":5}],3:[function(t,e,n){function i(t,e,n){t.toBlob(function(t){s.blob(e.name+".png",t),n()})}var r=t("./lib/html"),a=t("canvg-browser"),s=t("../utils/save")
e.exports=function(t,e,n){r.init(t,function(){var t={ignoreMouse:!0,ignoreAnimation:!0},s=document.getElementById("canvas")
a(s,e.svg,t),1!==s.width&&1!==s.height?i(s,e,function(){n()}):r.cannot()})}},{"../utils/save":12,"./lib/html":4,"canvg-browser":13}],4:[function(t,e,n){n.init=function(t,e){var n=document.getElementById(t)
n.innerHTML='<div id="canvas-div" style="display:none"><canvas id="canvas" width="1" height="1"></canvas></div>',e()},n.cannot=function(){var t=document.getElementById("btn-div")
t.innerHTML="<p>SVG could not be parsed</p>"}},{}],5:[function(t,e,n){var i=t("./lib/html"),r=t("./lib/init"),a=t("./lib/browse"),s=t("events").EventEmitter
e.exports=function(t,e){var n=new s
i.init(t,function(){r(n)
var e=document.getElementById("browse-btn")
e.onclick=function(){i.browse(t,function(){a(n)})}}),n.on("svg-dropped",function(t){e(t)})}},{"./lib/browse":6,"./lib/html":7,"./lib/init":8,events:1}],6:[function(t,e,n){var i=(t("./msg"),t("./verify-dropped"))
e.exports=function(t){var e=document.getElementById("file-input")
e.onchange=function(n){i(e.files[0],t)}}},{"./msg":9,"./verify-dropped":11}],7:[function(t,e,n){n.init=function(t,e){var n=document.getElementById(t)
n.innerHTML='<div id="drop-zone"></div><p id="msg"></p><button id="browse-btn">Browse the file system</button>',e()},n.browse=function(t,e){var n=document.getElementById(t)
n.innerHTML='<p id="msg">Load an SVG file</p><input id="file-input" type="file"></input>',e()}},{}],8:[function(t,e,n){function i(t,e){t.preventDefault(),s(t.dataTransfer.files[0],e)}function r(t){t.ondragover=function(t){return t.preventDefault(),!1},t.ondragenter=function(t){return t.preventDefault(),!1}}var a=t("./msg"),s=t("./verify-dropped")
e.exports=function(t){if(window.FileReader){var e=document.getElementById("drop-zone")
r(e),e.ondrop=function(e){i(e,t)},a.write("Drop an SVG file"),a.add("or")}else a.write("Your browser does not support the HTML5 FileReader.")}},{"./msg":9,"./verify-dropped":11}],9:[function(t,e,n){n.write=function(t){var e=document.getElementById("msg")
e.innerHTML=t},n.add=function(t){var e=document.getElementById("msg"),n=e.innerHTML
e.innerHTML=n+"<br/>"+t}},{}],10:[function(t,e,n){e.exports=function(t,e){var n=new FileReader
n.onload=function(){e(n.result)},n.readAsText(t)}},{}],11:[function(t,e,n){function i(t){var e=t.name.split("."),n=""
return e.forEach(function(t,i){i<e.length-1&&(n=0===i?t:n+"-"+t)}),n}function r(t){return"image/svg+xml"===t.type?(a.write("Document is an SVG file"),!0):(a.write("Document is not an SVG file"),!1)}var a=t("./msg"),s=t("./read-text")
e.exports=function(t,e){a.write("Verifying document..."),r(t)&&s(t,function(n){var r={name:i(t),svg:n}
e.emit("svg-dropped",r)})}},{"./msg":9,"./read-text":10}],12:[function(t,e,n){var i=i||function(t){"use strict"
if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,a=function(t){var e=new MouseEvent("click")
t.dispatchEvent(e)},s=/constructor/i.test(t.HTMLElement)||t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",h=4e4,c=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()}
setTimeout(e,h)},f=function(t,e,n){e=[].concat(e)
for(var i=e.length;i--;){var r=t["on"+e[i]]
if("function"==typeof r)try{r.call(t,n||t)}catch(a){l(a)}}},d=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},p=function(e,l,h){h||(e=d(e))
var p,m=this,v=e.type,y=v===u,g=function(){f(m,"writestart progress write writeend".split(" "))},b=function(){if((o||y&&s)&&t.FileReader){var i=new FileReader
return i.onloadend=function(){var e=o?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank")
n||(t.location.href=e),e=void 0,m.readyState=m.DONE,g()},i.readAsDataURL(e),void(m.readyState=m.INIT)}if(p||(p=n().createObjectURL(e)),y)t.location.href=p
else{var r=t.open(p,"_blank")
r||(t.location.href=p)}m.readyState=m.DONE,g(),c(p)}
return m.readyState=m.INIT,r?(p=n().createObjectURL(e),void setTimeout(function(){i.href=p,i.download=l,a(i),g(),c(p),m.readyState=m.DONE})):void b()},m=p.prototype,v=function(t,e,n){return new p(t,e||t.name||"download",n)}
return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=d(t)),navigator.msSaveOrOpenBlob(t,e)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content)
"undefined"!=typeof e&&e.exports?e.exports.saveAs=i:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return i}),n.json=function(t,e){var n=new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"})
i(n,t)},n.text=function(t,e){var n=new Blob([e],{type:"text/plain;charset=utf-8"})
i(n,t)},n.svg=function(t,e){var n=new Blob([e],{type:"image/svg+xml;charset=utf-8"})
i(n,t)},n.blob=function(t,e){i(e,t)}},{}],13:[function(t,e,n){"use strict"
function i(t,e,n){if(null!=t||null!=e||null!=n){"string"==typeof t&&(t=document.getElementById(t)),null!=t.svg&&t.svg.stop()
var r=s(n||{});(1!=t.childNodes.length||"OBJECT"!=t.childNodes[0].nodeName)&&(t.svg=r)
var a=t.getContext("2d")
"undefined"!=typeof e.documentElement?r.loadXmlDoc(a,e):"<"==e.substr(0,1)?r.loadXml(a,e):r.load(a,e)}else for(var o=document.querySelectorAll("svg"),l=0;l<o.length;l++){var u=o[l],h=document.createElement("canvas")
h.width=u.clientWidth,h.height=u.clientHeight,u.parentNode.insertBefore(h,u),u.parentNode.removeChild(u)
var c=document.createElement("div")
c.appendChild(u),i(h,c.innerHTML)}}function r(){var t
return"undefined"!=typeof Element.prototype.matches?t=function(t,e){return t.matches(e)}:"undefined"!=typeof Element.prototype.webkitMatchesSelector?t=function(t,e){return t.webkitMatchesSelector(e)}:"undefined"!=typeof Element.prototype.mozMatchesSelector?t=function(t,e){return t.mozMatchesSelector(e)}:"undefined"!=typeof Element.prototype.msMatchesSelector?t=function(t,e){return t.msMatchesSelector(e)}:"undefined"!=typeof Element.prototype.oMatchesSelector?t=function(t,e){return t.oMatchesSelector(e)}:(("function"==typeof jQuery||"function"==typeof Zepto)&&(t=function(t,e){return $(t).is(e)}),"undefined"==typeof t&&(t=Sizzle.matchesSelector)),t}function a(t){var e=[0,0,0],n=/(\[[^\]]+\])/g,i=/(#[^\s\+>~\.\[:]+)/g,r=/(\.[^\s\+>~\.\[:]+)/g,a=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,s=/(:[\w-]+\([^\)]*\))/gi,o=/(:[^\s\+>~\.\[:]+)/g,l=/([^\s\+>~\.\[:]+)/g,u=function(n,i){var r=t.match(n)
null!=r&&(e[i]+=r.length,t=t.replace(n," "))}
return t=t.replace(/:not\(([^\)]*)\)/g,"     $1 "),t=t.replace(/{[^]*/gm," "),u(n,1),u(i,0),u(r,1),u(a,2),u(s,1),u(o,1),t=t.replace(/[\*\s\+>~]/g," "),t=t.replace(/[#\.]/g," "),u(l,2),e.join("")}function s(t){var e={opts:t},n=r()
"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,r,a,s){var o={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:r,scaleHeight:a}
for(var l in s)s.hasOwnProperty(l)&&(o[l]=s[l])
i(this.canvas,t,o)}),e.FRAMERATE=30,e.MAX_VIRTUAL_PIXELS=3e4,e.log=function(t){},1==e.opts.log&&"undefined"!=typeof console&&(e.log=function(t){console.log(t)}),e.init=function(t){var n=0
e.UniqueId=function(){return n++,"canvg"+n},e.Definitions={},e.Styles={},e.StylesSpecificity={},e.Animations=[],e.Images=[],e.ctx=t,e.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},e.init(),e.ImagesLoaded=function(){for(var t=0;t<e.Images.length;t++)if(!e.Images[t].loaded)return!1
return!0},e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},e.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},e.ajax=function(t){var e
return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e?(e.open("GET",t,!1),e.send(null),e.responseText):null},e.parseXml=function(t){if("undefined"!=typeof Windows&&"undefined"!=typeof Windows.Data&&"undefined"!=typeof Windows.Data.Xml){var e=new Windows.Data.Xml.Dom.XmlDocument,n=new Windows.Data.Xml.Dom.XmlLoadSettings
return n.prohibitDtd=!1,e.loadXml(t,n),e}if(window.DOMParser){var i=new DOMParser
return i.parseFromString(t,"text/xml")}t=t.replace(/<!DOCTYPE svg[^>]*>/,"")
var e=new ActiveXObject("Microsoft.XMLDOM")
return e.async="false",e.loadXML(t),e},e.Property=function(t,e){this.name=t,this.value=e},e.Property.prototype.getValue=function(){return this.value},e.Property.prototype.hasValue=function(){return null!=this.value&&""!=this.value},e.Property.prototype.numValue=function(){if(!this.hasValue())return 0
var t=parseFloat(this.value)
return(this.value+"").match(/%$/)&&(t/=100),t},e.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},e.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},e.Property.prototype.addOpacity=function(t){var n=this.value
if(null!=t.value&&""!=t.value&&"string"==typeof this.value){var i=new o(this.value)
i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+t.numValue()+")")}return new e.Property(this.name,n)},e.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)'"]+)/)
return t&&(t=t[1]),t||(t=this.value),e.Definitions[t]},e.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},e.Property.prototype.getFillStyleDefinition=function(t,n){var i=this.getDefinition()
if(null!=i&&i.createGradient)return i.createGradient(e.ctx,t,n)
if(null!=i&&i.createPattern){if(i.getHrefAttribute().hasValue()){var r=i.attribute("patternTransform")
i=i.getHrefAttribute().getDefinition(),r.hasValue()&&(i.attribute("patternTransform",!0).value=r.value)}return i.createPattern(e.ctx,t)}return null},e.Property.prototype.getDPI=function(t){return 96},e.Property.prototype.getEM=function(t){var n=12,i=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize)
return i.hasValue()&&(n=i.toPixels(t)),n},e.Property.prototype.getUnits=function(){var t=this.value+""
return t.replace(/[0-9\.\-]/g,"")},e.Property.prototype.toPixels=function(t,n){if(!this.hasValue())return 0
var i=this.value+""
if(i.match(/em$/))return this.numValue()*this.getEM(t)
if(i.match(/ex$/))return this.numValue()*this.getEM(t)/2
if(i.match(/px$/))return this.numValue()
if(i.match(/pt$/))return this.numValue()*this.getDPI(t)*(1/72)
if(i.match(/pc$/))return 15*this.numValue()
if(i.match(/cm$/))return this.numValue()*this.getDPI(t)/2.54
if(i.match(/mm$/))return this.numValue()*this.getDPI(t)/25.4
if(i.match(/in$/))return this.numValue()*this.getDPI(t)
if(i.match(/%$/))return this.numValue()*e.ViewPort.ComputeSize(t)
var r=this.numValue()
return n&&1>r?r*e.ViewPort.ComputeSize(t):r},e.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0
var t=this.value+""
return t.match(/s$/)?1e3*this.numValue():t.match(/ms$/)?this.numValue():this.numValue()},e.Property.prototype.toRadians=function(){if(!this.hasValue())return 0
var t=this.value+""
return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)}
var s={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"}
return e.Property.prototype.toTextBaseline=function(){return this.hasValue()?s[this.value]:null},e.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,n,i,r,a,s){var o=null!=s?this.Parse(s):this.CreateFont("","","","","",e.ctx.font)
return{fontFamily:a||o.fontFamily,fontSize:r||o.fontSize,fontStyle:t||o.fontStyle,fontWeight:i||o.fontWeight,fontVariant:n||o.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}}
var t=this
this.Parse=function(n){for(var i={},r=e.trim(e.compressSpaces(n||"")).split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},s="",o=0;o<r.length;o++)a.fontStyle||-1==t.Styles.indexOf(r[o])?a.fontVariant||-1==t.Variants.indexOf(r[o])?a.fontWeight||-1==t.Weights.indexOf(r[o])?a.fontSize?"inherit"!=r[o]&&(s+=r[o]):("inherit"!=r[o]&&(i.fontSize=r[o].split("/")[0]),a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=!0):("inherit"!=r[o]&&(i.fontWeight=r[o]),a.fontStyle=a.fontVariant=a.fontWeight=!0):("inherit"!=r[o]&&(i.fontVariant=r[o]),a.fontStyle=a.fontVariant=!0):("inherit"!=r[o]&&(i.fontStyle=r[o]),a.fontStyle=!0)
return""!=s&&(i.fontFamily=s),i}},e.ToNumberArray=function(t){for(var n=e.trim(e.compressSpaces((t||"").replace(/,/g," "))).split(" "),i=0;i<n.length;i++)n[i]=parseFloat(n[i])
return n},e.Point=function(t,e){this.x=t,this.y=e},e.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},e.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5]
this.x=e,this.y=n},e.CreatePoint=function(t){var n=e.ToNumberArray(t)
return new e.Point(n[0],n[1])},e.CreatePath=function(t){for(var n=e.ToNumberArray(t),i=[],r=0;r<n.length;r+=2)i.push(new e.Point(n[r],n[r+1]))
return i},e.BoundingBox=function(t,e,n,i){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,i,r,a){var s=t+2/3*(n-t),o=e+2/3*(i-e),l=s+1/3*(r-t),u=o+1/3*(a-e)
this.addBezierCurve(t,e,s,l,o,u,r,a)},this.addBezierCurve=function(t,e,n,i,r,a,s,o){var l=[t,e],u=[n,i],h=[r,a],c=[s,o]
this.addPoint(l[0],l[1]),this.addPoint(c[0],c[1])
for(var f=0;1>=f;f++){var d=function(t){return Math.pow(1-t,3)*l[f]+3*Math.pow(1-t,2)*t*u[f]+3*(1-t)*Math.pow(t,2)*h[f]+Math.pow(t,3)*c[f]},p=6*l[f]-12*u[f]+6*h[f],m=-3*l[f]+9*u[f]-9*h[f]+3*c[f],v=3*u[f]-3*l[f]
if(0!=m){var y=Math.pow(p,2)-4*v*m
if(!(0>y)){var g=(-p+Math.sqrt(y))/(2*m)
g>0&&1>g&&(0==f&&this.addX(d(g)),1==f&&this.addY(d(g)))
var b=(-p-Math.sqrt(y))/(2*m)
b>0&&1>b&&(0==f&&this.addX(d(b)),1==f&&this.addY(d(b)))}}else{if(0==p)continue
var x=-v/p
x>0&&1>x&&(0==f&&this.addX(d(x)),1==f&&this.addY(d(x)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,i)},e.Transform=function(t){var n=this
this.Type={},this.Type.translate=function(t){this.p=e.CreatePoint(t),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var n=e.ToNumberArray(t)
this.angle=new e.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians()
t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=e.CreatePoint(t),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=e.ToNumberArray(t),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(t){var e=this.m[0],n=this.m[2],i=this.m[4],r=this.m[1],a=this.m[3],s=this.m[5],o=0,l=0,u=1,h=1/(e*(a*u-s*l)-n*(r*u-s*o)+i*(r*l-a*o))
t.transform(h*(a*u-s*l),h*(s*o-r*u),h*(i*l-n*u),h*(e*u-i*o),h*(n*s-i*a),h*(i*r-e*s))},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=n.Type.matrix,this.base(t),this.angle=new e.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)}
for(var i=e.trim(e.compressSpaces(t)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),r=0;r<i.length;r++){var a=e.trim(i[r].split("(")[0]),s=i[r].split("(")[1].replace(")",""),o=this.Type[a]
if("undefined"!=typeof o){var l=new o(s)
l.type=a,this.transforms.push(l)}}},e.AspectRatio=function(t,n,i,r,a,s,o,l,u,h){n=e.compressSpaces(n),n=n.replace(/^defer\s/,"")
var c=n.split(" ")[0]||"xMidYMid",f=n.split(" ")[1]||"meet",d=i/r,p=a/s,m=Math.min(d,p),v=Math.max(d,p)
"meet"==f&&(r*=m,s*=m),"slice"==f&&(r*=v,s*=v),u=new e.Property("refX",u),h=new e.Property("refY",h),u.hasValue()&&h.hasValue()?t.translate(-m*u.toPixels("x"),-m*h.toPixels("y")):(c.match(/^xMid/)&&("meet"==f&&m==p||"slice"==f&&v==p)&&t.translate(i/2-r/2,0),c.match(/YMid$/)&&("meet"==f&&m==d||"slice"==f&&v==d)&&t.translate(0,a/2-s/2),c.match(/^xMax/)&&("meet"==f&&m==p||"slice"==f&&v==p)&&t.translate(i-r,0),c.match(/YMax$/)&&("meet"==f&&m==d||"slice"==f&&v==d)&&t.translate(0,a-s)),"none"==c?t.scale(d,p):"meet"==f?t.scale(m,m):"slice"==f&&t.scale(v,v),t.translate(null==o?0:-o,null==l?0:-l)},e.Element={},e.EmptyProperty=new e.Property("EMPTY",""),e.Element.ElementBase=function(t){if(this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(t,n){var i=this.attributes[t]
return null!=i?i:(1==n&&(i=new e.Property(t,""),this.attributes[t]=i),i||e.EmptyProperty)},this.getHrefAttribute=function(){for(var t in this.attributes)if("href"==t||t.match(/:href$/))return this.attributes[t]
return e.EmptyProperty},this.style=function(t,n,i){var r=this.styles[t]
if(null!=r)return r
var a=this.attribute(t)
if(null!=a&&a.hasValue())return this.styles[t]=a,a
if(1!=i){var s=this.parent
if(null!=s){var o=s.style(t)
if(null!=o&&o.hasValue())return o}}return 1==n&&(r=new e.Property(t,""),this.styles[t]=r),r||e.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){if(t.save(),this.style("mask").hasValue()){var e=this.style("mask").getDefinition()
null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition()
null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t)
t.restore()}},this.setContext=function(t){},this.clearContext=function(t){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(t,n){var i=t
n&&(i=e.CreateElement(t)),i.parent=this,"title"!=i.type&&this.children.push(i)},this.addStylesFromStyleDefinition=function(){for(var i in e.Styles)if("@"!=i[0]&&n(t,i)){var r=e.Styles[i],a=e.StylesSpecificity[i]
if(null!=r)for(var s in r){var o=this.stylesSpecificity[s]
"undefined"==typeof o&&(o="000"),a>o&&(this.styles[s]=r[s],this.stylesSpecificity[s]=a)}}},null!=t&&1==t.nodeType){for(var i=0;i<t.attributes.length;i++){var r=t.attributes[i]
this.attributes[r.nodeName]=new e.Property(r.nodeName,r.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),i=0;i<a.length;i++)if(""!=e.trim(a[i])){var s=a[i].split(":"),o=e.trim(s[0]),l=e.trim(s[1])
this.styles[o]=new e.Property(o,l)}this.attribute("id").hasValue()&&null==e.Definitions[this.attribute("id").value]&&(e.Definitions[this.attribute("id").value]=this)
for(var i=0;i<t.childNodes.length;i++){var u=t.childNodes[i]
if(1==u.nodeType&&this.addChild(u,!0),this.captureTextNodes&&(3==u.nodeType||4==u.nodeType)){var h=u.value||u.text||u.textContent||""
""!=e.compressSpaces(h)&&this.addChild(new e.Element.tspan(u),!1)}}}},e.Element.RenderedElementBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.setContext=function(t){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"))
null!=n&&(t.fillStyle=n)}else if(this.style("fill").hasValue()){var i=this.style("fill")
"currentColor"==i.value&&(i.value=this.style("color").value),"inherit"!=i.value&&(t.fillStyle="none"==i.value?"rgba(0,0,0,0)":i.value)}if(this.style("fill-opacity").hasValue()){var i=new e.Property("fill",t.fillStyle)
i=i.addOpacity(this.style("fill-opacity")),t.fillStyle=i.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"))
null!=n&&(t.strokeStyle=n)}else if(this.style("stroke").hasValue()){var r=this.style("stroke")
"currentColor"==r.value&&(r.value=this.style("color").value),"inherit"!=r.value&&(t.strokeStyle="none"==r.value?"rgba(0,0,0,0)":r.value)}if(this.style("stroke-opacity").hasValue()){var r=new e.Property("stroke",t.strokeStyle)
r=r.addOpacity(this.style("stroke-opacity")),t.strokeStyle=r.value}if(this.style("stroke-width").hasValue()){var a=this.style("stroke-width").toPixels()
t.lineWidth=0==a?.001:a}if(this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var s=e.ToNumberArray(this.style("stroke-dasharray").value)
"undefined"!=typeof t.setLineDash?t.setLineDash(s):"undefined"!=typeof t.webkitLineDash?t.webkitLineDash=s:"undefined"==typeof t.mozDash||1==s.length&&0==s[0]||(t.mozDash=s)
var o=this.style("stroke-dashoffset").numValueOrDefault(1)
"undefined"!=typeof t.lineDashOffset?t.lineDashOffset=o:"undefined"!=typeof t.webkitLineDashOffset?t.webkitLineDashOffset=o:"undefined"!=typeof t.mozDashOffset&&(t.mozDashOffset=o)}if("undefined"!=typeof t.font&&(t.font=e.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.style("transform",!1,!0).hasValue()){var l=new e.Transform(this.style("transform",!1,!0).value)
l.apply(t)}if(this.style("clip-path",!1,!0).hasValue()){var u=this.style("clip-path",!1,!0).getDefinition()
null!=u&&u.apply(t)}this.style("opacity").hasValue()&&(t.globalAlpha=this.style("opacity").numValue())}},e.Element.RenderedElementBase.prototype=new e.Element.ElementBase,e.Element.PathElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new e.BoundingBox},this.renderChildren=function(t){this.path(t),e.Mouse.checkPath(this,t),""!=t.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?t.fill(this.style("fill-rule").value):t.fill()),""!=t.strokeStyle&&t.stroke()
var n=this.getMarkers()
if(null!=n){if(this.style("marker-start").isUrlDefinition()){var i=this.style("marker-start").getDefinition()
i.render(t,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var i=this.style("marker-mid").getDefinition(),r=1;r<n.length-1;r++)i.render(t,n[r][0],n[r][1])
if(this.style("marker-end").isUrlDefinition()){var i=this.style("marker-end").getDefinition()
i.render(t,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},e.Element.PathElementBase.prototype=new e.Element.RenderedElementBase,e.Element.svg=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),e.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,"undefined"!=typeof t.font&&"undefined"!=typeof window.getComputedStyle&&(t.font=window.getComputedStyle(t.canvas).getPropertyValue("font")),this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"))
var n=e.ViewPort.width(),i=e.ViewPort.height()
if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y")
var r=0,a=0
this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(r=-this.attribute("refX").toPixels("x"),a=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(t.beginPath(),t.moveTo(r,a),t.lineTo(n,a),t.lineTo(n,i),t.lineTo(r,i),t.closePath(),t.clip())}if(e.ViewPort.SetCurrent(n,i),this.attribute("viewBox").hasValue()){var s=e.ToNumberArray(this.attribute("viewBox").value),o=s[0],l=s[1]
n=s[2],i=s[3],e.AspectRatio(t,this.attribute("preserveAspectRatio").value,e.ViewPort.width(),n,e.ViewPort.height(),i,o,l,this.attribute("refX").value,this.attribute("refY").value),e.ViewPort.RemoveCurrent(),e.ViewPort.SetCurrent(s[2],s[3])}}},e.Element.svg.prototype=new e.Element.RenderedElementBase,e.Element.rect=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),s=this.attribute("rx").toPixels("x"),o=this.attribute("ry").toPixels("y")
return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(o=s),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(s=o),s=Math.min(s,r/2),o=Math.min(o,a/2),null!=t&&(t.beginPath(),t.moveTo(n+s,i),t.lineTo(n+r-s,i),t.quadraticCurveTo(n+r,i,n+r,i+o),t.lineTo(n+r,i+a-o),t.quadraticCurveTo(n+r,i+a,n+r-s,i+a),t.lineTo(n+s,i+a),t.quadraticCurveTo(n,i+a,n,i+a-o),t.lineTo(n,i+o),t.quadraticCurveTo(n,i,n+s,i),t.closePath()),new e.BoundingBox(n,i,n+r,i+a)}},e.Element.rect.prototype=new e.Element.PathElementBase,e.Element.circle=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),r=this.attribute("r").toPixels()
return null!=t&&(t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!0),t.closePath()),new e.BoundingBox(n-r,i-r,n+r,i+r)}},e.Element.circle.prototype=new e.Element.PathElementBase,e.Element.ellipse=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=4*((Math.sqrt(2)-1)/3),i=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),s=this.attribute("cy").toPixels("y")
return null!=t&&(t.beginPath(),t.moveTo(a,s-r),t.bezierCurveTo(a+n*i,s-r,a+i,s-n*r,a+i,s),t.bezierCurveTo(a+i,s+n*r,a+n*i,s+r,a,s+r),t.bezierCurveTo(a-n*i,s+r,a-i,s+n*r,a-i,s),t.bezierCurveTo(a-i,s-n*r,a-n*i,s-r,a,s-r),t.closePath()),new e.BoundingBox(a-i,s-r,a+i,s+r)}},e.Element.ellipse.prototype=new e.Element.PathElementBase,e.Element.line=function(t){this.base=e.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new e.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new e.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var n=this.getPoints()
return null!=t&&(t.beginPath(),t.moveTo(n[0].x,n[0].y),t.lineTo(n[1].x,n[1].y)),new e.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1])
return[[t[0],e],[t[1],e]]}},e.Element.line.prototype=new e.Element.PathElementBase,e.Element.polyline=function(t){this.base=e.Element.PathElementBase,this.base(t),this.points=e.CreatePath(this.attribute("points").value),this.path=function(t){var n=new e.BoundingBox(this.points[0].x,this.points[0].y)
null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y))
for(var i=1;i<this.points.length;i++)n.addPoint(this.points[i].x,this.points[i].y),null!=t&&t.lineTo(this.points[i].x,this.points[i].y)
return n},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])])
return t.length>0&&t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},e.Element.polyline.prototype=new e.Element.PathElementBase,e.Element.polygon=function(t){this.base=e.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(t){var e=this.basePath(t)
return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},e.Element.polygon.prototype=new e.Element.polyline,e.Element.path=function(t){this.base=e.Element.PathElementBase,this.base(t)
var n=this.attribute("d").value
n=n.replace(/,/gm," ")
for(var i=0;2>i;i++)n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2")
n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2")
for(var i=0;2>i;i++)n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2")
n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=e.compressSpaces(n),n=e.trim(n),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new e.Point(0,0),this.control=new e.Point(0,0),this.current=new e.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new e.Point(this.getScalar(),this.getScalar())
return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint()
return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint()
return this.current=t,t},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current
var t=new e.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)
return t},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e]
break}return this.angles}}(n),this.path=function(t){var n=this.PathParser
n.reset()
var i=new e.BoundingBox
for(null!=t&&t.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var r=n.getAsCurrentPoint()
for(n.addMarker(r),i.addPoint(r.x,r.y),null!=t&&t.moveTo(r.x,r.y),n.start=n.current;!n.isCommandOrEnd();){var r=n.getAsCurrentPoint()
n.addMarker(r,n.start),i.addPoint(r.x,r.y),null!=t&&t.lineTo(r.x,r.y)}break
case"L":case"l":for(;!n.isCommandOrEnd();){var a=n.current,r=n.getAsCurrentPoint()
n.addMarker(r,a),i.addPoint(r.x,r.y),null!=t&&t.lineTo(r.x,r.y)}break
case"H":case"h":for(;!n.isCommandOrEnd();){var s=new e.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y)
n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break
case"V":case"v":for(;!n.isCommandOrEnd();){var s=new e.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar())
n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break
case"C":case"c":for(;!n.isCommandOrEnd();){var o=n.current,l=n.getPoint(),u=n.getAsControlPoint(),h=n.getAsCurrentPoint()
n.addMarker(h,u,l),i.addBezierCurve(o.x,o.y,l.x,l.y,u.x,u.y,h.x,h.y),null!=t&&t.bezierCurveTo(l.x,l.y,u.x,u.y,h.x,h.y)}break
case"S":case"s":for(;!n.isCommandOrEnd();){var o=n.current,l=n.getReflectedControlPoint(),u=n.getAsControlPoint(),h=n.getAsCurrentPoint()
n.addMarker(h,u,l),i.addBezierCurve(o.x,o.y,l.x,l.y,u.x,u.y,h.x,h.y),null!=t&&t.bezierCurveTo(l.x,l.y,u.x,u.y,h.x,h.y)}break
case"Q":case"q":for(;!n.isCommandOrEnd();){var o=n.current,u=n.getAsControlPoint(),h=n.getAsCurrentPoint()
n.addMarker(h,u,u),i.addQuadraticCurve(o.x,o.y,u.x,u.y,h.x,h.y),null!=t&&t.quadraticCurveTo(u.x,u.y,h.x,h.y)}break
case"T":case"t":for(;!n.isCommandOrEnd();){var o=n.current,u=n.getReflectedControlPoint()
n.control=u
var h=n.getAsCurrentPoint()
n.addMarker(h,u,u),i.addQuadraticCurve(o.x,o.y,u.x,u.y,h.x,h.y),null!=t&&t.quadraticCurveTo(u.x,u.y,h.x,h.y)}break
case"A":case"a":for(;!n.isCommandOrEnd();){var o=n.current,c=n.getScalar(),f=n.getScalar(),d=n.getScalar()*(Math.PI/180),p=n.getScalar(),m=n.getScalar(),h=n.getAsCurrentPoint(),v=new e.Point(Math.cos(d)*(o.x-h.x)/2+Math.sin(d)*(o.y-h.y)/2,-Math.sin(d)*(o.x-h.x)/2+Math.cos(d)*(o.y-h.y)/2),y=Math.pow(v.x,2)/Math.pow(c,2)+Math.pow(v.y,2)/Math.pow(f,2)
y>1&&(c*=Math.sqrt(y),f*=Math.sqrt(y))
var g=(p==m?-1:1)*Math.sqrt((Math.pow(c,2)*Math.pow(f,2)-Math.pow(c,2)*Math.pow(v.y,2)-Math.pow(f,2)*Math.pow(v.x,2))/(Math.pow(c,2)*Math.pow(v.y,2)+Math.pow(f,2)*Math.pow(v.x,2)))
isNaN(g)&&(g=0)
var b=new e.Point(g*c*v.y/f,g*-f*v.x/c),x=new e.Point((o.x+h.x)/2+Math.cos(d)*b.x-Math.sin(d)*b.y,(o.y+h.y)/2+Math.sin(d)*b.x+Math.cos(d)*b.y),w=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},E=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(w(t)*w(e))},P=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(E(t,e))},N=P([1,0],[(v.x-b.x)/c,(v.y-b.y)/f]),T=[(v.x-b.x)/c,(v.y-b.y)/f],C=[(-v.x-b.x)/c,(-v.y-b.y)/f],S=P(T,C)
E(T,C)<=-1&&(S=Math.PI),E(T,C)>=1&&(S=0)
var B=1-m?1:-1,D=N+B*(S/2),M=new e.Point(x.x+c*Math.cos(D),x.y+f*Math.sin(D))
if(n.addMarkerAngle(M,D-B*Math.PI/2),n.addMarkerAngle(h,D-B*Math.PI),i.addPoint(h.x,h.y),null!=t){var E=c>f?c:f,k=c>f?1:c/f,A=c>f?f/c:1
t.translate(x.x,x.y),t.rotate(d),t.scale(k,A),t.arc(0,0,E,N,N+S,1-m),t.scale(1/k,1/A),t.rotate(-d),t.translate(-x.x,-x.y)}}break
case"Z":case"z":null!=t&&t.closePath(),n.current=n.start}return i},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],i=0;i<t.length;i++)n.push([t[i],e[i]])
return n}},e.Element.path.prototype=new e.Element.PathElementBase,e.Element.pattern=function(t){this.base=e.Element.ElementBase,this.base(t),this.createPattern=function(t,n){var i=this.attribute("width").toPixels("x",!0),r=this.attribute("height").toPixels("y",!0),a=new e.Element.svg
a.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),a.attributes.width=new e.Property("width",i+"px"),a.attributes.height=new e.Property("height",r+"px"),a.attributes.transform=new e.Property("transform",this.attribute("patternTransform").value),a.children=this.children
var s=document.createElement("canvas")
s.width=i,s.height=r
var o=s.getContext("2d")
this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&o.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0))
for(var l=-1;1>=l;l++)for(var u=-1;1>=u;u++)o.save(),a.attributes.x=new e.Property("x",l*s.width),a.attributes.y=new e.Property("y",u*s.height),a.render(o),o.restore()
var h=t.createPattern(s,"repeat")
return h}},e.Element.pattern.prototype=new e.Element.ElementBase,e.Element.marker=function(t){this.base=e.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,n,i){t.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(i),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save()
var r=new e.Element.svg
r.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),r.attributes.refX=new e.Property("refX",this.attribute("refX").value),r.attributes.refY=new e.Property("refY",this.attribute("refY").value),r.attributes.width=new e.Property("width",this.attribute("markerWidth").value),r.attributes.height=new e.Property("height",this.attribute("markerHeight").value),r.attributes.fill=new e.Property("fill",this.attribute("fill").valueOrDefault("black")),r.attributes.stroke=new e.Property("stroke",this.attribute("stroke").valueOrDefault("none")),r.children=this.children,r.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-i),t.translate(-n.x,-n.y)}},e.Element.marker.prototype=new e.Element.ElementBase,e.Element.defs=function(t){this.base=e.Element.ElementBase,this.base(t),this.render=function(t){}},e.Element.defs.prototype=new e.Element.ElementBase,e.Element.GradientBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.stops=[]
for(var n=0;n<this.children.length;n++){var i=this.children[n]
"stop"==i.type&&this.stops.push(i)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(t){for(var e=0;e<this.attributesToInherit.length;e++){var n=this.attributesToInherit[e]
!this.attribute(n).hasValue()&&t.attribute(n).hasValue()&&(this.attribute(n,!0).value=t.attribute(n).value)}},this.createGradient=function(t,n,i){var r=this
this.getHrefAttribute().hasValue()&&(r=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(r))
var a=function(t){if(i.hasValue()){var n=new e.Property("color",t)
return n.addOpacity(i).value}return t},s=this.getGradient(t,n)
if(null==s)return a(r.stops[r.stops.length-1].color)
for(var o=0;o<r.stops.length;o++)s.addColorStop(r.stops[o].offset,a(r.stops[o].color))
if(this.attribute("gradientTransform").hasValue()){var l=e.ViewPort.viewPorts[0],u=new e.Element.rect
u.attributes.x=new e.Property("x",-e.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new e.Property("y",-e.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new e.Property("width",e.MAX_VIRTUAL_PIXELS),u.attributes.height=new e.Property("height",e.MAX_VIRTUAL_PIXELS)
var h=new e.Element.g
h.attributes.transform=new e.Property("transform",this.attribute("gradientTransform").value),h.children=[u]
var c=new e.Element.svg
c.attributes.x=new e.Property("x",0),c.attributes.y=new e.Property("y",0),c.attributes.width=new e.Property("width",l.width),c.attributes.height=new e.Property("height",l.height),c.children=[h]
var f=document.createElement("canvas")
f.width=l.width,f.height=l.height
var d=f.getContext("2d")
return d.fillStyle=s,c.render(d),d.createPattern(f,"no-repeat")}return s}},e.Element.GradientBase.prototype=new e.Element.ElementBase,e.Element.linearGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(t,e){var n="objectBoundingBox"==this.gradientUnits()?e.getBoundingBox():null
this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0)
var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),s="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y")
return i==a&&r==s?null:t.createLinearGradient(i,r,a,s)}},e.Element.linearGradient.prototype=new e.Element.GradientBase,e.Element.radialGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.getGradient=function(t,e){var n=e.getBoundingBox()
this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%")
var i="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=i,s=r
this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(s="objectBoundingBox"==this.gradientUnits()?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"))
var o="objectBoundingBox"==this.gradientUnits()?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels()
return t.createRadialGradient(a,s,0,i,r,o)}},e.Element.radialGradient.prototype=new e.Element.GradientBase,e.Element.stop=function(t){this.base=e.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1)
var n=this.style("stop-color",!0)
""==n.value&&(n.value="#000"),this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity"))),this.color=n.value},e.Element.stop.prototype=new e.Element.ElementBase,e.Element.AnimateBase=function(t){this.base=e.Element.ElementBase,this.base(t),e.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value
return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0
else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value
return!1}this.duration=this.duration+t
var e=!1
if(this.begin<this.duration){var n=this.calcValue()
if(this.attribute("type").hasValue()){var i=this.attribute("type").value
n=i+"("+n+")"}this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)}
if(this.values.hasValue()){var n=t.progress*(this.values.value.length-1),i=Math.floor(n),r=Math.ceil(n)
t.from=new e.Property("from",parseFloat(this.values.value[i])),t.to=new e.Property("to",parseFloat(this.values.value[r])),t.progress=(n-i)/(r-i)}else t.from=this.from,t.to=this.to
return t}},e.Element.AnimateBase.prototype=new e.Element.ElementBase,e.Element.animate=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress
return e+this.initialUnits}},e.Element.animate.prototype=new e.Element.AnimateBase,e.Element.animateColor=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),e=new o(t.from.value),n=new o(t.to.value)
if(e.ok&&n.ok){var i=e.r+(n.r-e.r)*t.progress,r=e.g+(n.g-e.g)*t.progress,a=e.b+(n.b-e.b)*t.progress
return"rgb("+parseInt(i,10)+","+parseInt(r,10)+","+parseInt(a,10)+")"}return this.attribute("from").value}},e.Element.animateColor.prototype=new e.Element.AnimateBase,e.Element.animateTransform=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){for(var t=this.progress(),n=e.ToNumberArray(t.from.value),i=e.ToNumberArray(t.to.value),r="",a=0;a<n.length;a++)r+=n[a]+(i[a]-n[a])*t.progress+" "
return r}},e.Element.animateTransform.prototype=new e.Element.animate,e.Element.font=function(t){this.base=e.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[]
for(var n=0;n<this.children.length;n++){var i=this.children[n]
"font-face"==i.type?(this.fontFace=i,i.style("font-family").hasValue()&&(e.Definitions[i.style("font-family").value]=this)):"missing-glyph"==i.type?this.missingGlyph=i:"glyph"==i.type&&(""!=i.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[i.unicode]&&(this.glyphs[i.unicode]=[]),this.glyphs[i.unicode][i.arabicForm]=i):this.glyphs[i.unicode]=i)}},e.Element.font.prototype=new e.Element.ElementBase,e.Element.fontface=function(t){this.base=e.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},e.Element.fontface.prototype=new e.Element.ElementBase,e.Element.missingglyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=0},e.Element.missingglyph.prototype=new e.Element.path,e.Element.glyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},e.Element.glyph.prototype=new e.Element.path,e.Element.text=function(t){this.captureTextNodes=!0,this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t)
var e=this.style("dominant-baseline").toTextBaseline()
null==e&&(e=this.style("alignment-baseline").toTextBaseline()),null!=e&&(t.textBaseline=e)},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize)
return new e.BoundingBox(t,n-i,t+Math.floor(2*i/3)*this.children[0].getText().length,n)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(t,this,0)
for(var e=0;e<this.children.length;e++)this.renderChild(t,this,this,e)},this.getAnchorDelta=function(t,e,n){var i=this.style("text-anchor").valueOrDefault("start")
if("start"!=i){for(var r=0,a=n;a<e.children.length;a++){var s=e.children[a]
if(a>n&&s.attribute("x").hasValue())break
r+=s.measureTextRecursive(t)}return-1*("end"==i?r:r/2)}return 0},this.renderChild=function(t,e,n,i){var r=n.children[i]
r.attribute("x").hasValue()?(r.x=r.attribute("x").toPixels("x")+e.getAnchorDelta(t,n,i),r.attribute("dx").hasValue()&&(r.x+=r.attribute("dx").toPixels("x"))):(r.attribute("dx").hasValue()&&(e.x+=r.attribute("dx").toPixels("x")),r.x=e.x),e.x=r.x+r.measureText(t),r.attribute("y").hasValue()?(r.y=r.attribute("y").toPixels("y"),r.attribute("dy").hasValue()&&(r.y+=r.attribute("dy").toPixels("y"))):(r.attribute("dy").hasValue()&&(e.y+=r.attribute("dy").toPixels("y")),r.y=e.y),e.y=r.y,r.render(t)
for(var i=0;i<r.children.length;i++)e.renderChild(t,e,r,i)}},e.Element.text.prototype=new e.Element.RenderedElementBase,e.Element.TextElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getGlyph=function(t,e,n){var i=e[n],r=null
if(t.isArabic){var a="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(a="terminal"),n>0&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(a="medial"),n>0&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(a="initial"),"undefined"!=typeof t.glyphs[i]&&(r=t.glyphs[i][a],null==r&&"glyph"==t.glyphs[i].type&&(r=t.glyphs[i]))}else r=t.glyphs[i]
return null==r&&(r=t.missingGlyph),r},this.renderChildren=function(t){var n=this.parent.style("font-family").getDefinition()
if(null==n)""!=t.fillStyle&&t.fillText(e.compressSpaces(this.getText()),this.x,this.y),""!=t.strokeStyle&&t.strokeText(e.compressSpaces(this.getText()),this.x,this.y)
else{var i=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),r=this.parent.style("font-style").valueOrDefault(e.Font.Parse(e.ctx.font).fontStyle),a=this.getText()
n.isRTL&&(a=a.split("").reverse().join(""))
for(var s=e.ToNumberArray(this.parent.attribute("dx").value),o=0;o<a.length;o++){var l=this.getGlyph(n,a,o),u=i/n.fontFace.unitsPerEm
t.translate(this.x,this.y),t.scale(u,-u)
var h=t.lineWidth
t.lineWidth=t.lineWidth*n.fontFace.unitsPerEm/i,"italic"==r&&t.transform(1,0,.4,1,0,0),l.render(t),"italic"==r&&t.transform(1,0,-.4,1,0,0),t.lineWidth=h,t.scale(1/u,-1/u),t.translate(-this.x,-this.y),this.x+=i*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof s[o]||isNaN(s[o])||(this.x+=s[o])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t)
return e},this.measureText=function(t){var n=this.parent.style("font-family").getDefinition()
if(null!=n){var i=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),r=0,a=this.getText()
n.isRTL&&(a=a.split("").reverse().join(""))
for(var s=e.ToNumberArray(this.parent.attribute("dx").value),o=0;o<a.length;o++){var l=this.getGlyph(n,a,o)
r+=(l.horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,"undefined"==typeof s[o]||isNaN(s[o])||(r+=s[o])}return r}var u=e.compressSpaces(this.getText())
if(!t.measureText)return 10*u.length
t.save(),this.setContext(t)
var h=t.measureText(u).width
return t.restore(),h}},e.Element.TextElementBase.prototype=new e.Element.RenderedElementBase,e.Element.tspan=function(t){this.captureTextNodes=!0,this.base=e.Element.TextElementBase,this.base(t),this.text=e.compressSpaces(t.value||t.text||t.textContent||""),this.getText=function(){return this.children.length>0?"":this.text}},e.Element.tspan.prototype=new e.Element.TextElementBase,e.Element.tref=function(t){this.base=e.Element.TextElementBase,this.base(t),this.getText=function(){var t=this.getHrefAttribute().getDefinition()
return null!=t?t.children[0].getText():void 0}},e.Element.tref.prototype=new e.Element.TextElementBase,e.Element.a=function(t){this.base=e.Element.TextElementBase,this.base(t),this.hasText=t.childNodes.length>0
for(var n=0;n<t.childNodes.length;n++)3!=t.childNodes[n].nodeType&&(this.hasText=!1)
this.text=this.hasText?t.childNodes[0].value:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t)
var n=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize)
e.Mouse.checkBoundingBox(this,new e.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(t),this.y))}else if(this.children.length>0){var i=new e.Element.g
i.children=this.children,i.parent=this,i.render(t)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){e.ctx.canvas.style.cursor="pointer"}},e.Element.a.prototype=new e.Element.TextElementBase,e.Element.image=function(t){this.base=e.Element.RenderedElementBase,this.base(t)
var n=this.getHrefAttribute().value
if(""!=n){var i=n.match(/\.svg$/)
if(e.Images.push(this),this.loaded=!1,i)this.img=e.ajax(n),this.loaded=!0
else{this.img=document.createElement("img"),1==e.opts.useCORS&&(this.img.crossOrigin="Anonymous")
var r=this
this.img.onload=function(){r.loaded=!0},this.img.onerror=function(){e.log('ERROR: image "'+n+'" not found'),r.loaded=!0},this.img.src=n}this.renderChildren=function(t){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y")
0!=a&&0!=s&&(t.save(),i?t.drawSvg(this.img,n,r,a,s):(t.translate(n,r),e.AspectRatio(t,this.attribute("preserveAspectRatio").value,a,this.img.width,s,this.img.height,0,0),t.drawImage(this.img,0,0)),t.restore())},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y")
return new e.BoundingBox(t,n,t+i,n+r)}}},e.Element.image.prototype=new e.Element.RenderedElementBase,e.Element.g=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(){for(var t=new e.BoundingBox,n=0;n<this.children.length;n++)t.addBoundingBox(this.children[n].getBoundingBox())
return t}},e.Element.g.prototype=new e.Element.RenderedElementBase,e.Element.symbol=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.render=function(t){}},e.Element.symbol.prototype=new e.Element.RenderedElementBase,e.Element.style=function(t){this.base=e.Element.ElementBase,this.base(t)
for(var n="",i=0;i<t.childNodes.length;i++)n+=t.childNodes[i].data
n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=e.compressSpaces(n)
for(var r=n.split("}"),i=0;i<r.length;i++)if(""!=e.trim(r[i]))for(var s=r[i].split("{"),o=s[0].split(","),l=s[1].split(";"),u=0;u<o.length;u++){var h=e.trim(o[u])
if(""!=h){for(var c=e.Styles[h]||{},f=0;f<l.length;f++){var d=l[f].indexOf(":"),p=l[f].substr(0,d),m=l[f].substr(d+1,l[f].length-d)
null!=p&&null!=m&&(c[e.trim(p)]=new e.Property(e.trim(p),e.trim(m)))}if(e.Styles[h]=c,e.StylesSpecificity[h]=a(h),"@font-face"==h)for(var v=c["font-family"].value.replace(/"/g,""),y=c.src.value.split(","),g=0;g<y.length;g++)if(y[g].indexOf('format("svg")')>0)for(var b=y[g].indexOf("url"),x=y[g].indexOf(")",b),w=y[g].substr(b+5,x-b-6),E=e.parseXml(e.ajax(w)),P=E.getElementsByTagName("font"),N=0;N<P.length;N++){var T=e.CreateElement(P[N])
e.Definitions[v]=T}}}},e.Element.style.prototype=new e.Element.ElementBase,e.Element.use=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))}
var n=this.getHrefAttribute().getDefinition()
this.path=function(t){null!=n&&n.path(t)},this.getBoundingBox=function(){return null!=n?n.getBoundingBox():void 0},this.renderChildren=function(t){if(null!=n){var i=n
"symbol"==n.type&&(i=new e.Element.svg,i.type="svg",i.attributes.viewBox=new e.Property("viewBox",n.attribute("viewBox").value),i.attributes.preserveAspectRatio=new e.Property("preserveAspectRatio",n.attribute("preserveAspectRatio").value),i.attributes.overflow=new e.Property("overflow",n.attribute("overflow").value),i.children=n.children),"svg"==i.type&&(this.attribute("width").hasValue()&&(i.attributes.width=new e.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(i.attributes.height=new e.Property("height",this.attribute("height").value)))
var r=i.parent
i.parent=null,i.render(t),i.parent=r}}},e.Element.use.prototype=new e.Element.RenderedElementBase,e.Element.mask=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t,n){var i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y")
if(0==a&&0==s){for(var o=new e.BoundingBox,l=0;l<this.children.length;l++)o.addBoundingBox(this.children[l].getBoundingBox())
var i=Math.floor(o.x1),r=Math.floor(o.y1),a=Math.floor(o.width()),s=Math.floor(o.height())}var u=n.attribute("mask").value
n.attribute("mask").value=""
var h=document.createElement("canvas")
h.width=i+a,h.height=r+s
var c=h.getContext("2d")
this.renderChildren(c)
var f=document.createElement("canvas")
f.width=i+a,f.height=r+s
var d=f.getContext("2d")
n.render(d),d.globalCompositeOperation="destination-in",d.fillStyle=c.createPattern(h,"no-repeat"),d.fillRect(0,0,i+a,r+s),t.fillStyle=d.createPattern(f,"no-repeat"),t.fillRect(0,0,i+a,r+s),n.attribute("mask").value=u},this.render=function(t){}},e.Element.mask.prototype=new e.Element.ElementBase,e.Element.clipPath=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t){var n=CanvasRenderingContext2D.prototype.beginPath
CanvasRenderingContext2D.prototype.beginPath=function(){}
var i=CanvasRenderingContext2D.prototype.closePath
CanvasRenderingContext2D.prototype.closePath=function(){},n.call(t)
for(var r=0;r<this.children.length;r++){var a=this.children[r]
if("undefined"!=typeof a.path){var s=null
a.style("transform",!1,!0).hasValue()&&(s=new e.Transform(a.style("transform",!1,!0).value),s.apply(t)),a.path(t),CanvasRenderingContext2D.prototype.closePath=i,s&&s.unapply(t)}}i.call(t),t.clip(),CanvasRenderingContext2D.prototype.beginPath=n,CanvasRenderingContext2D.prototype.closePath=i},this.render=function(t){}},e.Element.clipPath.prototype=new e.Element.ElementBase,e.Element.filter=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t,e){var n=e.getBoundingBox(),i=Math.floor(n.x1),r=Math.floor(n.y1),a=Math.floor(n.width()),s=Math.floor(n.height()),o=e.style("filter").value
e.style("filter").value=""
for(var l=0,u=0,h=0;h<this.children.length;h++){var c=this.children[h].extraFilterDistance||0
l=Math.max(l,c),u=Math.max(u,c)}var f=document.createElement("canvas")
f.width=a+2*l,f.height=s+2*u
var d=f.getContext("2d")
d.translate(-i+l,-r+u),e.render(d)
for(var h=0;h<this.children.length;h++)"function"==typeof this.children[h].apply&&this.children[h].apply(d,0,0,a+2*l,s+2*u)
t.drawImage(f,0,0,a+2*l,s+2*u,i-l,r-u,a+2*l,s+2*u),e.style("filter",!0).value=o},this.render=function(t){}},e.Element.filter.prototype=new e.Element.ElementBase,e.Element.feMorphology=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t,e,n,i,r){}},e.Element.feMorphology.prototype=new e.Element.ElementBase,e.Element.feComposite=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(t,e,n,i,r){}},e.Element.feComposite.prototype=new e.Element.ElementBase,e.Element.feColorMatrix=function(t){function n(t,e,n,i,r,a){return t[n*i*4+4*e+a]}function i(t,e,n,i,r,a,s){t[n*i*4+4*e+a]=s}function r(t,e){var n=a[t]
return n*(0>n?e-255:e)}this.base=e.Element.ElementBase,this.base(t)
var a=e.ToNumberArray(this.attribute("values").value)
switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var s=a[0]
a=[.213+.787*s,.715-.715*s,.072-.072*s,0,0,.213-.213*s,.715+.285*s,.072-.072*s,0,0,.213-.213*s,.715-.715*s,.072+.928*s,0,0,0,0,0,1,0,0,0,0,0,1]
break
case"hueRotate":var o=a[0]*Math.PI/180,l=function(t,e,n){return t+Math.cos(o)*e+Math.sin(o)*n}
a=[l(.213,.787,-.213),l(.715,-.715,-.715),l(.072,-.072,.928),0,0,l(.213,-.213,.143),l(.715,.285,.14),l(.072,-.072,-.283),0,0,l(.213,-.213,-.787),l(.715,-.715,.715),l(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1]
break
case"luminanceToAlpha":a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.apply=function(t,e,a,s,o){for(var l=t.getImageData(0,0,s,o),a=0;o>a;a++)for(var e=0;s>e;e++){var u=n(l.data,e,a,s,o,0),h=n(l.data,e,a,s,o,1),c=n(l.data,e,a,s,o,2),f=n(l.data,e,a,s,o,3)
i(l.data,e,a,s,o,0,r(0,u)+r(1,h)+r(2,c)+r(3,f)+r(4,1)),i(l.data,e,a,s,o,1,r(5,u)+r(6,h)+r(7,c)+r(8,f)+r(9,1)),i(l.data,e,a,s,o,2,r(10,u)+r(11,h)+r(12,c)+r(13,f)+r(14,1)),i(l.data,e,a,s,o,3,r(15,u)+r(16,h)+r(17,c)+r(18,f)+r(19,1))}t.clearRect(0,0,s,o),t.putImageData(l,0,0)}},e.Element.feColorMatrix.prototype=new e.Element.ElementBase,e.Element.feGaussianBlur=function(t){this.base=e.Element.ElementBase,this.base(t),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(t,n,i,r,a){return"undefined"==typeof l.canvasRGBA?void e.log("ERROR: StackBlur.js must be included for blur to work"):(t.canvas.id=e.UniqueId(),t.canvas.style.display="none",document.body.appendChild(t.canvas),l.canvasRGBA(t.canvas.id,n,i,r,a,this.blurRadius),void document.body.removeChild(t.canvas))}},e.Element.feGaussianBlur.prototype=new e.Element.ElementBase,e.Element.title=function(t){},e.Element.title.prototype=new e.Element.ElementBase,e.Element.desc=function(t){},e.Element.desc.prototype=new e.Element.ElementBase,e.Element.MISSING=function(t){e.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},e.Element.MISSING.prototype=new e.Element.ElementBase,e.CreateElement=function(t){var n=t.nodeName.replace(/^[^:]+:/,"")
n=n.replace(/\-/g,"")
var i=null
return i="undefined"!=typeof e.Element[n]?new e.Element[n](t):new e.Element.MISSING(t),i.type=t.nodeName,i},e.load=function(t,n){e.loadXml(t,e.ajax(n))},e.loadXml=function(t,n){e.loadXmlDoc(t,e.parseXml(n))},e.loadXmlDoc=function(t,n){e.init(t)
var i=function(e){for(var n=t.canvas;n;)e.x-=n.offsetLeft,e.y-=n.offsetTop,n=n.offsetParent
return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e}
1!=e.opts.ignoreMouse&&(t.canvas.onclick=function(t){var n=i(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY))
e.Mouse.onclick(n.x,n.y)},t.canvas.onmousemove=function(t){var n=i(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY))
e.Mouse.onmousemove(n.x,n.y)})
var r=e.CreateElement(n.documentElement)
r.root=!0,r.addStylesFromStyleDefinition()
var a=!0,s=function(){e.ViewPort.Clear(),t.canvas.parentNode&&e.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth,t.canvas.parentNode.clientHeight),1!=e.opts.ignoreDimensions&&(r.style("width").hasValue()&&(t.canvas.width=r.style("width").toPixels("x"),t.canvas.style.width=t.canvas.width+"px"),r.style("height").hasValue()&&(t.canvas.height=r.style("height").toPixels("y"),t.canvas.style.height=t.canvas.height+"px"))
var i=t.canvas.clientWidth||t.canvas.width,s=t.canvas.clientHeight||t.canvas.height
if(1==e.opts.ignoreDimensions&&r.style("width").hasValue()&&r.style("height").hasValue()&&(i=r.style("width").toPixels("x"),s=r.style("height").toPixels("y")),e.ViewPort.SetCurrent(i,s),null!=e.opts.offsetX&&(r.attribute("x",!0).value=e.opts.offsetX),null!=e.opts.offsetY&&(r.attribute("y",!0).value=e.opts.offsetY),null!=e.opts.scaleWidth||null!=e.opts.scaleHeight){var o=null,l=null,u=e.ToNumberArray(r.attribute("viewBox").value)
null!=e.opts.scaleWidth&&(r.attribute("width").hasValue()?o=r.attribute("width").toPixels("x")/e.opts.scaleWidth:isNaN(u[2])||(o=u[2]/e.opts.scaleWidth)),null!=e.opts.scaleHeight&&(r.attribute("height").hasValue()?l=r.attribute("height").toPixels("y")/e.opts.scaleHeight:isNaN(u[3])||(l=u[3]/e.opts.scaleHeight)),null==o&&(o=l),null==l&&(l=o),r.attribute("width",!0).value=e.opts.scaleWidth,r.attribute("height",!0).value=e.opts.scaleHeight,r.style("transform",!0,!0).value+=" scale("+1/o+","+1/l+")"}1!=e.opts.ignoreClear&&t.clearRect(0,0,i,s),r.render(t),a&&(a=!1,"function"==typeof e.opts.renderCallback&&e.opts.renderCallback(n))},o=!0
e.ImagesLoaded()&&(o=!1,s()),e.intervalID=setInterval(function(){var t=!1
if(o&&e.ImagesLoaded()&&(o=!1,t=!0),1!=e.opts.ignoreMouse&&(t|=e.Mouse.hasEvents()),1!=e.opts.ignoreAnimation)for(var n=0;n<e.Animations.length;n++)t|=e.Animations[n].update(1e3/e.FRAMERATE)
"function"==typeof e.opts.forceRedraw&&1==e.opts.forceRedraw()&&(t=!0),t&&(s(),e.Mouse.runEvents())},1e3/e.FRAMERATE)},e.stop=function(){e.intervalID&&clearInterval(e.intervalID)},e.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var i=this.events[n]
e.isPointInPath&&e.isPointInPath(i.x,i.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){for(var n=0;n<this.events.length;n++){var i=this.events[n]
e.isPointInBox(i.x,i.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){e.ctx.canvas.style.cursor=""
for(var t=0;t<this.events.length;t++)for(var n=this.events[t],i=this.eventElements[t];i;)n.run(i),i=i.parent
this.events=[],this.eventElements=[]}},e}var o=t("rgbcolor"),l=t("stackblur")
t("xmldom")
e.exports=i},{rgbcolor:14,stackblur:15,xmldom:16}],14:[function(t,e,n){e.exports=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase()
var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}
t=e[t]||t
for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,s=r.exec(t)
if(s){var o=a(s)
this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16)
return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,i=0;i<n.length;i++)for(var r=n[i].example,a=0;a<r.length;a++)t[t.length]=r[a]
for(var s in e)t[t.length]=s
var o=document.createElement("ul")
o.setAttribute("id","rgbcolor-examples")
for(var i=0;i<t.length;i++)try{var l=document.createElement("li"),u=new RGBColor(t[i]),h=document.createElement("div")
h.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),h.appendChild(document.createTextNode("test"))
var c=document.createTextNode(" "+t[i]+" -> "+u.toRGB()+" -> "+u.toHex())
l.appendChild(h),l.appendChild(c),o.appendChild(l)}catch(f){}return o}}},{}],15:[function(t,e,n){function i(t,e,n,i){if(!(isNaN(i)||1>i)){i|=0
var o,l,u,h,c,f,d,p,m,v,y,g,b,x,w,E,P,N,T,C,S,B,D,M,k=i+i+1,A=e-1,V=n-1,I=i+1,R=I*(I+1)/2,_=new r,O=_
for(u=1;k>u;u++)if(O=O.next=new r,u==I)var L=O
O.next=_
var F=null,z=null
d=f=0
var X=a[i],U=s[i]
for(l=0;n>l;l++){for(E=P=N=T=p=m=v=y=0,g=I*(C=t[f]),b=I*(S=t[f+1]),x=I*(B=t[f+2]),w=I*(D=t[f+3]),p+=R*C,m+=R*S,v+=R*B,y+=R*D,O=_,u=0;I>u;u++)O.r=C,O.g=S,O.b=B,O.a=D,O=O.next
for(u=1;I>u;u++)h=f+((u>A?A:u)<<2),p+=(O.r=C=t[h])*(M=I-u),m+=(O.g=S=t[h+1])*M,v+=(O.b=B=t[h+2])*M,y+=(O.a=D=t[h+3])*M,E+=C,P+=S,N+=B,T+=D,O=O.next
for(F=_,z=L,o=0;e>o;o++)t[f+3]=D=y*X>>U,0!=D?(D=255/D,t[f]=(p*X>>U)*D,t[f+1]=(m*X>>U)*D,t[f+2]=(v*X>>U)*D):t[f]=t[f+1]=t[f+2]=0,p-=g,m-=b,v-=x,y-=w,g-=F.r,b-=F.g,x-=F.b,w-=F.a,h=d+((h=o+i+1)<A?h:A)<<2,E+=F.r=t[h],P+=F.g=t[h+1],N+=F.b=t[h+2],T+=F.a=t[h+3],p+=E,m+=P,v+=N,y+=T,F=F.next,g+=C=z.r,b+=S=z.g,x+=B=z.b,w+=D=z.a,E-=C,P-=S,N-=B,T-=D,z=z.next,f+=4
d+=e}for(o=0;e>o;o++){for(P=N=T=E=m=v=y=p=0,f=o<<2,g=I*(C=t[f]),b=I*(S=t[f+1]),x=I*(B=t[f+2]),w=I*(D=t[f+3]),p+=R*C,m+=R*S,v+=R*B,y+=R*D,O=_,u=0;I>u;u++)O.r=C,O.g=S,O.b=B,O.a=D,O=O.next
for(c=e,u=1;i>=u;u++)f=c+o<<2,p+=(O.r=C=t[f])*(M=I-u),m+=(O.g=S=t[f+1])*M,v+=(O.b=B=t[f+2])*M,y+=(O.a=D=t[f+3])*M,E+=C,P+=S,N+=B,T+=D,O=O.next,V>u&&(c+=e)
for(f=o,F=_,z=L,l=0;n>l;l++)h=f<<2,t[h+3]=D=y*X>>U,D>0?(D=255/D,t[h]=(p*X>>U)*D,t[h+1]=(m*X>>U)*D,t[h+2]=(v*X>>U)*D):t[h]=t[h+1]=t[h+2]=0,p-=g,m-=b,v-=x,y-=w,g-=F.r,b-=F.g,x-=F.b,w-=F.a,h=o+((h=l+I)<V?h:V)*e<<2,p+=E+=F.r=t[h],m+=P+=F.g=t[h+1],v+=N+=F.b=t[h+2],y+=T+=F.a=t[h+3],F=F.next,g+=C=z.r,b+=S=z.g,x+=B=z.b,w+=D=z.a,E-=C,P-=S,N-=B,T-=D,z=z.next,f+=e}}}function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]
e.exports=i},{}],16:[function(t,e,n){function i(t){this.options=t||{locator:{}}}function r(t,e,n){function i(e){var i=t[e]
!i&&s&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]	"+t+o(n))}||function(){}}if(!t){if(e instanceof a)return e
t=e}var r={},s=t instanceof Function
return n=n||{},i("warning"),i("error"),i("fatalError"),r}function a(){this.cdata=!1}function s(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){return t?"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]":void 0}function l(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function u(t,e){t.currentElement?t.currentElement.appendChild(e):t.document.appendChild(e)}if(i.prototype.parseFromString=function(t,e){var n=this.options,i=new h,s=n.domBuilder||new a,o=n.errorHandler,l=n.locator,u=n.xmlns||{},c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"}
return l&&s.setDocumentLocator(l),i.errorHandler=r(o,s,l),i.domBuilder=n.domBuilder||s,/\/x?html?$/.test(e)&&(c.nbsp="",c.copy="",u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",t?i.parse(t,u,c):i.errorHandler.error("invalid document source"),s.document},a.prototype={startDocument:function(){this.document=(new c).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.document,a=r.createElementNS(t,n||e),o=i.length
u(this,a),this.currentElement=a,this.locator&&s(this.locator,a)
for(var l=0;o>l;l++){var t=i.getURI(l),h=i.getValue(l),n=i.getQName(l),c=r.createAttributeNS(t,n)
c.getOffset&&s(c.getOffset(1),c),c.value=c.nodeValue=h,a.setAttributeNode(c)}},endElement:function(t,e,n){var i=this.currentElement
i.tagName
this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.document.createProcessingInstruction(t,e)
this.locator&&s(this.locator,n),u(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=l.apply(this,arguments),this.currentElement&&t){if(this.cdata){var i=this.document.createCDATASection(t)
this.currentElement.appendChild(i)}else{var i=this.document.createTextNode(t)
this.currentElement.appendChild(i)}this.locator&&s(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=l.apply(this,arguments)
var i=this.document.createComment(t)
this.locator&&s(this.locator,i),u(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.document.implementation
if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n)
this.locator&&s(this.locator,r),u(this,r)}},warning:function(t){console.warn("[xmldom warning]	"+t,o(this.locator))},error:function(t){console.error("[xmldom error]	"+t,o(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]	"+t,o(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){a.prototype[t]=function(){return null}}),"function"==typeof t){var h=t("./sax").XMLReader,c=n.DOMImplementation=t("./dom").DOMImplementation
n.XMLSerializer=t("./dom").XMLSerializer,n.DOMParser=i}},{"./dom":17,"./sax":18}],17:[function(t,e,n){function i(t,e){for(var n in t)e[n]=t[n]}function r(t,e){function n(){}var r=t.prototype
if(Object.create){var a=Object.create(e.prototype)
r.__proto__=a}r instanceof e||(n.prototype=e.prototype,n=new n,i(r,n),t.prototype=r=n),r.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),r.constructor=t)}function a(t,e){if(e instanceof Error)var n=e
else n=this,Error.call(this,it[t]),this.message=it[t],Error.captureStackTrace&&Error.captureStackTrace(this,a)
return n.code=t,e&&(this.message=this.message+": "+e),n}function s(){}function o(t,e){this._node=t,this._refresh=e,l(this)}function l(t){var e=t._node._inc||t._node.ownerDocument._inc
if(t._inc!=e){var n=t._refresh(t._node)
z(t,"length",n.length),i(n,t),t._inc=e}}function u(){}function h(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function c(t,e,n,i){if(i?e[h(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t
var r=t.ownerDocument
r&&(i&&b(r,t,i),g(r,t,n))}}function f(t,e,n){var i=h(e,n)
if(!(i>=0))throw a(rt,new Error)
for(var r=e.length-1;r>i;)e[i]=e[++i]
if(e.length=r,t){var s=t.ownerDocument
s&&(b(s,t,n),n.ownerElement=null)}}function d(t){if(this._features={},t)for(var e in t)this._features=t[e]}function p(){}function m(t){return"<"==t&&"&lt;"||">"==t&&"&gt;"||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function v(t,e){if(e(t))return!0
if(t=t.firstChild)do if(v(t,e))return!0
while(t=t.nextSibling)}function y(){}function g(t,e,n){t&&t._inc++
var i=n.namespaceURI
"http://www.w3.org/2000/xmlns/"==i&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function b(t,e,n,i){t&&t._inc++
var r=n.namespaceURI
"http://www.w3.org/2000/xmlns/"==r&&delete e._nsMap[n.prefix?n.localName:""]}function x(t,e,n){if(t&&t._inc){t._inc++
var i=e.childNodes
if(n)i[i.length++]=n
else{for(var r=e.firstChild,a=0;r;)i[a++]=r,r=r.nextSibling
i.length=a}}}function w(t,e){var n=e.previousSibling,i=e.nextSibling
return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,x(t.ownerDocument,t),e}function E(t,e,n){var i=e.parentNode
if(i&&i.removeChild(e),e.nodeType===tt){var r=e.firstChild
if(null==r)return e
var a=e.lastChild}else r=a=e
var s=n?n.previousSibling:t.lastChild
r.previousSibling=s,a.nextSibling=n,s?s.nextSibling=r:t.firstChild=r,null==n?t.lastChild=a:n.previousSibling=a
do r.parentNode=t
while(r!==a&&(r=r.nextSibling))
return x(t.ownerDocument||t,t),e.nodeType==tt&&(e.firstChild=e.lastChild=null),e}function P(t,e){var n=e.parentNode
if(n){var i=t.lastChild
n.removeChild(e)
var i=t.lastChild}var i=t.lastChild
return e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,x(t.ownerDocument,t,e),e}function N(){this._nsMap={}}function T(){}function C(){}function S(){}function B(){}function D(){}function M(){}function k(){}function A(){}function V(){}function I(){}function R(){}function _(){}function O(t,e,n,i){switch(t.nodeType){case q:var r=t.attributes,a=r.length,s=t.firstChild,o=t.tagName
i=U===t.namespaceURI||i,e.push("<",o),n&&e.sort.apply(r,n)
for(var l=0;a>l;l++)O(r.item(l),e,n,i)
if(s||i&&!/^(?:meta|link|img|br|hr|input|button)$/i.test(o)){if(e.push(">"),i&&/^script$/i.test(o))s&&e.push(s.data)
else for(;s;)O(s,e,n,i),s=s.nextSibling
e.push("</",o,">")}else e.push("/>")
return
case J:case tt:for(var s=t.firstChild;s;)O(s,e,n,i),s=s.nextSibling
return
case H:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,m),'"')
case G:return e.push(t.data.replace(/[<&]/g,m))
case W:return e.push("<![CDATA[",t.data,"]]>")
case Z:return e.push("<!--",t.data,"-->")
case K:var u=t.publicId,h=t.systemId
if(e.push("<!DOCTYPE ",t.name),u)e.push(' PUBLIC "',u),h&&"."!=h&&e.push('" "',h),e.push('">')
else if(h&&"."!=h)e.push(' SYSTEM "',h,'">')
else{var c=t.internalSubset
c&&e.push(" [",c,"]"),e.push(">")}return
case Q:return e.push("<?",t.target," ",t.data,"?>")
case j:return e.push("&",t.nodeName,";")
default:e.push("??",t.nodeName)}}function L(t,e,n){var i
switch(e.nodeType){case q:i=e.cloneNode(!1),i.ownerDocument=t
case tt:break
case H:n=!0}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(L(t,r,n)),r=r.nextSibling
return i}function F(t,e,n){var i=new e.constructor
for(var r in e){var a=e[r]
"object"!=typeof a&&a!=i[r]&&(i[r]=a)}switch(e.childNodes&&(i.childNodes=new s),i.ownerDocument=t,i.nodeType){case q:var o=e.attributes,l=i.attributes=new u,h=o.length
l._ownerElement=i
for(var c=0;h>c;c++)i.setAttributeNode(F(t,o.item(c),!0))
break
case H:n=!0}if(n)for(var f=e.firstChild;f;)i.appendChild(F(t,f,n)),f=f.nextSibling
return i}function z(t,e,n){t[e]=n}function X(t){switch(t.nodeType){case 1:case 11:var e=[]
for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(X(t)),t=t.nextSibling
return e.join("")
default:return t.nodeValue}}var U="http://www.w3.org/1999/xhtml",$={},q=$.ELEMENT_NODE=1,H=$.ATTRIBUTE_NODE=2,G=$.TEXT_NODE=3,W=$.CDATA_SECTION_NODE=4,j=$.ENTITY_REFERENCE_NODE=5,Y=$.ENTITY_NODE=6,Q=$.PROCESSING_INSTRUCTION_NODE=7,Z=$.COMMENT_NODE=8,J=$.DOCUMENT_NODE=9,K=$.DOCUMENT_TYPE_NODE=10,tt=$.DOCUMENT_FRAGMENT_NODE=11,et=$.NOTATION_NODE=12,nt={},it={},rt=(nt.INDEX_SIZE_ERR=(it[1]="Index size error",1),nt.DOMSTRING_SIZE_ERR=(it[2]="DOMString size error",2),nt.HIERARCHY_REQUEST_ERR=(it[3]="Hierarchy request error",3),nt.WRONG_DOCUMENT_ERR=(it[4]="Wrong document",4),nt.INVALID_CHARACTER_ERR=(it[5]="Invalid character",5),nt.NO_DATA_ALLOWED_ERR=(it[6]="No data allowed",6),nt.NO_MODIFICATION_ALLOWED_ERR=(it[7]="No modification allowed",7),nt.NOT_FOUND_ERR=(it[8]="Not found",8)),at=(nt.NOT_SUPPORTED_ERR=(it[9]="Not supported",9),nt.INUSE_ATTRIBUTE_ERR=(it[10]="Attribute in use",10))
nt.INVALID_STATE_ERR=(it[11]="Invalid state",11),nt.SYNTAX_ERR=(it[12]="Syntax error",12),nt.INVALID_MODIFICATION_ERR=(it[13]="Invalid modification",13),nt.NAMESPACE_ERR=(it[14]="Invalid namespace",14),nt.INVALID_ACCESS_ERR=(it[15]="Invalid access",15)
a.prototype=Error.prototype,i(nt,a),s.prototype={length:0,item:function(t){return this[t]||null},toString:function(){for(var t=[],e=0;e<this.length;e++)O(this[e],t)
return t.join("")}},o.prototype.item=function(t){return l(this),this[t]},r(o,s),u.prototype={length:0,item:s.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e]
if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement
if(e&&e!=this._ownerElement)throw new a(at)
var n=this.getNamedItem(t.nodeName)
return c(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement
if(n&&n!=this._ownerElement)throw new a(at)
return e=this.getNamedItemNS(t.namespaceURI,t.localName),c(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t)
return f(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e)
return f(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n]
if(i.localName==e&&i.namespaceURI==t)return i}return null}},d.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()]
return n&&(!e||e in n)?!0:!1},createDocument:function(t,e,n){var i=new y
if(i.implementation=this,i.childNodes=new s,i.doctype=n,n&&i.appendChild(n),e){var r=i.createElementNS(t,e)
i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new M
return i.name=t,i.nodeName=t,i.publicId=e,i.systemId=n,i}},p.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return E(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return w(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return F(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling
e&&e.nodeType==G&&t.nodeType==G?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap
if(n)for(var i in n)if(n[i]==t)return i
e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap
if(n&&t in n)return n[t]
e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t)
return null==e}},i($,p),i($,p.prototype),y.prototype={nodeName:"#document",nodeType:J,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==tt){for(var n=t.firstChild;n;){var i=n.nextSibling
this.insertBefore(n,e),n=i}return t}return null==this.documentElement&&1==t.nodeType&&(this.documentElement=t),E(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),w(this,t)},importNode:function(t,e){return L(this,t,e)},getElementById:function(t){var e=null
return v(this.documentElement,function(n){return 1==n.nodeType&&n.getAttribute("id")==t?(e=n,!0):void 0}),e},createElement:function(t){var e=new N
e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new s
var n=e.attributes=new u
return n._ownerElement=e,e},createDocumentFragment:function(){var t=new I
return t.ownerDocument=this,t.childNodes=new s,t},createTextNode:function(t){var e=new S
return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new B
return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new D
return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new R
return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new T
return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new V
return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new N,i=e.split(":"),r=n.attributes=new u
return n.childNodes=new s,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new T,i=e.split(":")
return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}},r(y,p),N.prototype={nodeType:q,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t)
return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t)
n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t)
e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===tt?this.insertBefore(t,null):P(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e)
n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e)
return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e)
i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new o(this,function(e){var n=[]
return v(e,function(i){i===e||i.nodeType!=q||"*"!==t&&i.tagName!=t||n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new o(this,function(n){var i=[]
return v(n,function(r){r===n||r.nodeType!==q||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||i.push(r)}),i})}},y.prototype.getElementsByTagName=N.prototype.getElementsByTagName,y.prototype.getElementsByTagNameNS=N.prototype.getElementsByTagNameNS,r(N,p),T.prototype.nodeType=H,r(T,p),C.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(it[3])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e)
n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}},r(C,p),S.prototype={nodeName:"#text",nodeType:G,splitText:function(t){var e=this.data,n=e.substring(t)
e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length
var i=this.ownerDocument.createTextNode(n)
return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},r(S,C),B.prototype={nodeName:"#comment",nodeType:Z},r(B,C),D.prototype={nodeName:"#cdata-section",nodeType:W},r(D,C),M.prototype.nodeType=K,r(M,p),k.prototype.nodeType=et,r(k,p),A.prototype.nodeType=Y,r(A,p),V.prototype.nodeType=j,r(V,p),I.prototype.nodeName="#document-fragment",I.prototype.nodeType=tt,r(I,p),R.prototype.nodeType=Q,r(R,p),_.prototype.serializeToString=function(t,e){return t.toString(e)},p.prototype.toString=function(t){var e=[]
return O(this,e,t),e.join("")}
try{Object.defineProperty&&(Object.defineProperty(o.prototype,"length",{get:function(){return l(this),this.$$length}}),Object.defineProperty(p.prototype,"textContent",{get:function(){return X(this)},set:function(t){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t))
break
default:this.data=t,this.value=value,this.nodeValue=t}}}),z=function(t,e,n){t["$$"+e]=n})}catch(st){}"function"==typeof t&&(n.DOMImplementation=d,n.XMLSerializer=_)},{}],18:[function(t,e,n){function i(){}function r(t,e,n,i,r){function h(t){if(t>65535){t-=65536
var e=55296+(t>>10),n=56320+(1023&t)
return String.fromCharCode(e,n)}return String.fromCharCode(t)}function p(t){var e=t.slice(1,-1)
return e in n?n[e]:"#"===e.charAt(0)?h(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function m(e){if(e>P){var n=t.substring(P,e).replace(/&#?\w+;/g,p)
x&&v(P),i.characters(n,0,e-P),P=e}}function v(e,n){for(;e>=g&&(n=b.exec(t));)y=n.index,g=y+n[0].length,x.lineNumber++
x.columnNumber=e-y+1}for(var y=0,g=0,b=/.+(?:\r\n?|\n)|.*$/g,x=i.locator,w=[{currentNSMap:e}],E={},P=0;;){try{var N=t.indexOf("<",P)
if(0>N){if(!t.substr(P).match(/^\s*$/)){var T=i.document,C=T.createTextNode(t.substr(P))
T.appendChild(C),i.currentElement=C}return}switch(N>P&&m(N),t.charAt(N+1)){case"/":var S=t.indexOf(">",N+3),B=t.substring(N+2,S),D=w.pop(),M=D.localNSMap
if(D.tagName!=B&&r.fatalError("end tag name: "+B+" is not match the current start tagName:"+D.tagName),i.endElement(D.uri,D.localName,B),M)for(var k in M)i.endPrefixMapping(k)
S++
break
case"?":x&&v(N),S=f(t,N,i)
break
case"!":x&&v(N),S=c(t,N,i,r)
break
default:x&&v(N)
var A=new d,S=s(t,N,A,p,r),V=A.length
if(x){if(V)for(var I=0;V>I;I++){var R=A[I]
v(R.offset),R.offset=a(x,{})}v(S)}!A.closed&&u(t,S,A.tagName,E)&&(A.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),o(A,i,w),"http://www.w3.org/1999/xhtml"!==A.uri||A.closed?S++:S=l(t,S,A.tagName,p,i)}}catch(_){r.error("element parse error: "+_),S=-1}S>P?P=S:m(Math.max(N,P)+1)}}function a(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function s(t,e,n,i,r){for(var a,s,o=++e,l=b;;){var u=t.charAt(o)
switch(u){case"=":if(l===x)a=t.slice(e,o),l=E
else{if(l!==w)throw new Error("attribute equal must after attrName")
l=E}break
case"'":case'"':if(l===E){if(e=o+1,o=t.indexOf(u,e),!(o>0))throw new Error("attribute value no end '"+u+"' match")
s=t.slice(e,o).replace(/&#?\w+;/g,i),n.add(a,s,e-1),l=N}else{if(l!=P)throw new Error('attribute value must after "="')
s=t.slice(e,o).replace(/&#?\w+;/g,i),n.add(a,s,e),r.warning('attribute "'+a+'" missed start quot('+u+")!!"),e=o+1,l=N}break
case"/":switch(l){case b:n.setTagName(t.slice(e,o))
case N:case T:case C:l=C,n.closed=!0
case P:case x:case w:break
default:throw new Error("attribute invalid close char('/')")}break
case"":r.error("unexpected end of input")
case">":switch(l){case b:n.setTagName(t.slice(e,o))
case N:case T:case C:break
case P:case x:s=t.slice(e,o),"/"===s.slice(-1)&&(n.closed=!0,s=s.slice(0,-1))
case w:l===w&&(s=a),l==P?(r.warning('attribute "'+s+'" missed quot(")!!'),n.add(a,s.replace(/&#?\w+;/g,i),e)):(r.warning('attribute "'+s+'" missed value!! "'+s+'" instead!!'),n.add(s,s,e))
break
case E:throw new Error("attribute value missed!!")}return o
case"":u=" "
default:if(" ">=u)switch(l){case b:n.setTagName(t.slice(e,o)),l=T
break
case x:a=t.slice(e,o),l=w
break
case P:var s=t.slice(e,o).replace(/&#?\w+;/g,i)
r.warning('attribute "'+s+'" missed quot(")!!'),n.add(a,s,e)
case N:l=T}else switch(l){case w:r.warning('attribute "'+a+'" missed value!! "'+a+'" instead!!'),n.add(a,a,e),e=o,l=x
break
case N:r.warning('attribute space is required"'+a+'"!!')
case T:l=x,e=o
break
case E:l=P,e=o
break
case C:throw new Error("elements closed character '/' and '>' must be connected to")}}o++}}function o(t,e,n){for(var i=t.tagName,r=null,a=n[n.length-1].currentNSMap,s=t.length;s--;){var o=t[s],l=o.qName,u=o.value,c=l.indexOf(":")
if(c>0)var f=o.prefix=l.slice(0,c),d=l.slice(c+1),p="xmlns"===f&&d
else d=l,f=null,p="xmlns"===l&&""
o.localName=d,p!==!1&&(null==r&&(r={},h(a,a={})),a[p]=r[p]=u,o.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(p,u))}for(var s=t.length;s--;){o=t[s]
var f=o.prefix
f&&("xml"===f&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==f&&(o.uri=a[f]))}var c=i.indexOf(":")
c>0?(f=t.prefix=i.slice(0,c),d=t.localName=i.slice(c+1)):(f=null,d=t.localName=i)
var m=t.uri=a[f||""]
if(e.startElement(m,d,i,t),t.closed){if(e.endElement(m,d,i),r)for(f in r)e.endPrefixMapping(f)}else t.currentNSMap=a,t.localNSMap=r,n.push(t)}function l(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=t.indexOf("</"+n+">",e),s=t.substring(e+1,a)
if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),a)}return e+1}function u(t,e,n,i){var r=i[n]
return null==r&&(r=i[n]=t.lastIndexOf("</"+n+">")),e>r}function h(t,e){for(var n in t)e[n]=t[n]}function c(t,e,n,i){var r=t.charAt(e+2)
switch(r){case"-":if("-"===t.charAt(e+3)){var a=t.indexOf("-->",e+4)
return a>e?(n.comment(t,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}return-1
default:if("CDATA["==t.substr(e+3,6)){var a=t.indexOf("]]>",e+9)
return n.startCDATA(),n.characters(t,e+9,a-e-9),n.endCDATA(),a+3}var s=m(t,e),o=s.length
if(o>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],u=o>3&&/^public$/i.test(s[2][0])&&s[3][0],h=o>4&&s[4][0],c=s[o-1]
return n.startDTD(l,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),h&&h.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function f(t,e,n){var i=t.indexOf("?>",e)
if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/)
if(r){r[0].length
return n.processingInstruction(r[1],r[2]),i+2}return-1}return-1}function d(t){}function p(t,e){return t.__proto__=e,t}function m(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g
for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}var v=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=new RegExp("[\\-\\.0-9"+v.source.slice(1,-1)+"-\\u203F-]"),g=new RegExp("^"+v.source+y.source+"*(?::"+v.source+y.source+"*)?$"),b=0,x=1,w=2,E=3,P=4,N=5,T=6,C=7
i.prototype={parse:function(t,e,n){var i=this.domBuilder
i.startDocument(),h(e,e={}),r(t,e,n,i,this.errorHandler),i.endDocument()}},d.prototype={setTagName:function(t){if(!g.test(t))throw new Error("invalid tagName:"+t)
this.tagName=t},add:function(t,e,n){if(!g.test(t))throw new Error("invalid attribute:"+t)
this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getOffset:function(t){return this[t].offset},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},p({},p.prototype)instanceof p||(p=function(t,e){function n(){}n.prototype=e,n=new n
for(e in t)n[e]=t[e]
return n}),"function"==typeof t&&(n.XMLReader=i)},{}]},{},[2])
